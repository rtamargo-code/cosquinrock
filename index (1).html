<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosqu√≠n Rock 2026 - Planner</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Iconos SVG simples
        const Icons = {
            Users: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            ),
            Calendar: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            ),
            Clock: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            MapPin: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            ),
            Star: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            ),
            Music: () => (
                <svg className="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
                </svg>
            ),
            Refresh: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
            )
        };

        const CosquinRockPlanner = () => {
            const [selectedDay, setSelectedDay] = useState('viernes');
            const [votes, setVotes] = useState({});
            const [activeUser, setActiveUser] = useState(0);
            const [isLoading, setIsLoading] = useState(true);
            const [isSaving, setIsSaving] = useState(false);
            const [lastSync, setLastSync] = useState(null);

            const users = [
                { name: 'Rochi', color: 'bg-pink-500' },
                { name: 'Wolo', color: 'bg-purple-500' },
                { name: 'Sere', color: 'bg-blue-500' },
                { name: 'Mery', color: 'bg-green-500' },
                { name: 'Moka', color: 'bg-yellow-500' },
                { name: 'Ninu', color: 'bg-orange-500' },
                { name: 'Rena', color: 'bg-red-500' },
                { name: 'Berto', color: 'bg-teal-500' },
                { name: 'Solci', color: 'bg-indigo-500' }
            ];

            const schedule = {
                viernes: {
                    'Escenario Norte': [
                        { time: '14:30', band: 'KILL FLORA' },
                        { time: '15:20', band: 'ERUCA SATIVA' },
                        { time: '16:30', band: 'EL ZAR' },
                        { time: '17:50', band: 'TURF' },
                        { time: '19:30', band: 'DILLOM' },
                        { time: '21:20', band: 'BABAS√ìNICOS' },
                        { time: '23:20', band: 'LALI' },
                        { time: '00:40', band: 'CALIGARIS' }
                    ],
                    'Escenario Sur': [
                        { time: '14:30', band: 'FANTASMAGOR√çA' },
                        { time: '15:20', band: 'LA MISSISSIPPI' },
                        { time: '16:30', band: 'EMI' },
                        { time: '17:50', band: 'CRUZANDO EL CHARCO' },
                        { time: '19:40', band: 'CIRO Y LOS PERSAS' },
                        { time: '21:40', band: 'LA VELA PUERCA' },
                        { time: '23:20', band: 'LAS PELOTAS' },
                        { time: '00:40', band: 'VIEJAS LOCAS / J√ìVENES PORDIOSEROS' }
                    ],
                    'Escenario Monta√±a': [
                        { time: '14:15', band: 'CHECHI DE MARCOS' },
                        { time: '15:00', band: 'RYAN' },
                        { time: '15:50', band: 'BERSUIT VERGARABAT' },
                        { time: '17:10', band: 'MARILINA BERTOLDI' },
                        { time: '18:40', band: 'EL KUELGUE' },
                        { time: '20:40', band: 'CUARTETO DE NOS' },
                        { time: '22:40', band: 'FRANZ FERDINAND' },
                        { time: '00:00', band: 'THE CHEMICAL BROTHERS (DJ SET)' },
                        { time: '02:00', band: 'VICTORIA WHYNOT' }
                    ],
                    'Escenario Boomerang': [
                        { time: '14:10', band: 'MICROTUL' },
                        { time: '14:50', band: '1915' },
                        { time: '15:40', band: 'UN MUERTO MAS' },
                        { time: '16:30', band: 'GIRL ULTRA' },
                        { time: '17:20', band: 'HERMANOS GUTI√âRREZ' },
                        { time: '18:20', band: 'INDIOS' },
                        { time: '19:20', band: 'ESTELARES' },
                        { time: '20:40', band: 'ABEL PINTOS' },
                        { time: '21:50', band: 'LA FRANELA' },
                        { time: '23:10', band: 'COTI' },
                        { time: '00:30', band: 'AMIGO DE ARTISTAS' }
                    ],
                    'La Casita del Blues': [
                        { time: '14:15', band: 'GOLO\'S BAND' },
                        { time: '15:05', band: 'LOS MENTIDORES' },
                        { time: '15:55', band: 'LAS WITCHES' },
                        { time: '16:50', band: 'LE DRACS' },
                        { time: '17:45', band: 'PERRO SUIZO' },
                        { time: '18:40', band: 'MISTY SOUL CHOIR' },
                        { time: '19:35', band: 'TANGO & ROLL' },
                        { time: '20:30', band: 'LOS NOHUBO' },
                        { time: '21:25', band: 'BONITA BLUES BAND' },
                        { time: '22:20', band: 'LA GRAN NARANJA' },
                        { time: '23:15', band: 'LOS NOHUBO' }
                    ]
                },
                sabado: {
                    'Escenario Norte': [
                        { time: '14:30', band: 'DELFINA CODINA' },
                        { time: '15:20', band: 'AM√ìN, SATIVA BOYS, ATON' },
                        { time: '16:30', band: 'BRANDO PUNK LATINO' },
                        { time: '17:50', band: 'SKAY BEILINSON' },
                        { time: '19:30', band: 'REY MORUVIA' },
                        { time: '21:20', band: 'LOS FABULOSOS CADILLACS' },
                        { time: '23:20', band: 'LOVE OF LESBIAN' },
                        { time: '00:40', band: 'SANTIAGO MOTORIZADO' }
                    ],
                    'Escenario Sur': [
                        { time: '14:30', band: 'FERNANDO SAMALEA PERCUSI√ìN' },
                        { time: '15:20', band: 'QUIQUE PESOA & LOS GRASOS' },
                        { time: '16:30', band: 'SALVAPANTALLAS' },
                        { time: '17:50', band: 'NONPALIDECE' },
                        { time: '19:40', band: 'BULLDOG' },
                        { time: '21:40', band: 'MENOS ES M√ÅS' },
                        { time: '23:20', band: 'NO TE VA A GUSTAR' },
                        { time: '00:40', band: 'LOS CALIGARIS' }
                    ],
                    'Escenario Monta√±a': [
                        { time: '14:15', band: 'PITI FERN√ÅNDEZ' },
                        { time: '15:00', band: 'LA FRANELA' },
                        { time: '15:50', band: 'AIRBAG' },
                        { time: '17:10', band: 'LOS PIOJOS (Tributo)' },
                        { time: '18:40', band: 'ANDR√âS CALAMARO' },
                        { time: '20:40', band: 'THE HIVES' },
                        { time: '22:40', band: 'ARCTIC MONKEYS' },
                        { time: '00:00', band: 'PULP' },
                        { time: '02:00', band: 'HARD GZ' }
                    ],
                    'Escenario Boomerang': [
                        { time: '14:10', band: 'LARA91K' },
                        { time: '14:50', band: 'RAMMA' },
                        { time: '15:40', band: 'NICKI NICOLE' },
                        { time: '16:30', band: 'JUAN INGARAMO' },
                        { time: '17:20', band: 'BANDALOS CHINOS' },
                        { time: '18:20', band: 'INTOXICADOS' },
                        { time: '19:20', band: 'MIRANDA!' },
                        { time: '20:40', band: 'LA BERISO' },
                        { time: '21:50', band: 'ATTAQUE 77' },
                        { time: '23:10', band: 'DIVIDIDOS' },
                        { time: '00:30', band: 'TINI' }
                    ],
                    'La Casita del Blues': [
                        { time: '14:15', band: 'LUCA ROCCHI TR√çO' },
                        { time: '15:05', band: 'GUMBO' },
                        { time: '15:55', band: 'BLUES DEL PA√çS' },
                        { time: '16:50', band: 'THE MISSISSIPPI BAND' },
                        { time: '17:45', band: 'SERGIO PANGARO TR√çO' },
                        { time: '18:40', band: 'CLAUDIO KLEIMAN TR√çO' },
                        { time: '19:35', band: 'MAXI ESPINDOLA' },
                        { time: '20:30', band: 'LOS BESOS DEL ZORRO' },
                        { time: '21:25', band: 'THE BLACK CATS' },
                        { time: '22:20', band: 'MEMPHIS' },
                        { time: '23:15', band: 'VEL√ÅZQUEZ' }
                    ]
                }
            };

            // Cargar votos al inicio
            useEffect(() => {
                loadVotes();
            }, []);

            // Funci√≥n para cargar votos desde storage
            const loadVotes = async () => {
                setIsLoading(true);
                try {
                    const result = await window.storage.get('cosquin-votes', true);
                    if (result && result.value) {
                        const loadedVotes = JSON.parse(result.value);
                        setVotes(loadedVotes);
                        setLastSync(new Date().toLocaleTimeString('es-AR', { hour: '2-digit', minute: '2-digit' }));
                    }
                } catch (error) {
                    console.log('No hay votos guardados a√∫n, iniciando con votos vac√≠os');
                    setVotes({});
                }
                setIsLoading(false);
            };

            // Funci√≥n para guardar votos
            const saveVotes = async (newVotes) => {
                setIsSaving(true);
                try {
                    await window.storage.set('cosquin-votes', JSON.stringify(newVotes), true);
                    setLastSync(new Date().toLocaleTimeString('es-AR', { hour: '2-digit', minute: '2-digit' }));
                } catch (error) {
                    console.error('Error guardando votos:', error);
                    alert('Error al guardar los votos. Por favor intenta de nuevo.');
                }
                setIsSaving(false);
            };

            const handleVote = async (day, stage, band, time) => {
                const key = `${day}-${stage}-${band}-${time}`;
                const newVotes = { ...votes };
                
                if (!newVotes[key]) {
                    newVotes[key] = [];
                }
                
                const userIndex = newVotes[key].indexOf(activeUser);
                
                if (userIndex > -1) {
                    newVotes[key].splice(userIndex, 1);
                    if (newVotes[key].length === 0) {
                        delete newVotes[key];
                    }
                } else {
                    newVotes[key].push(activeUser);
                }
                
                setVotes(newVotes);
                await saveVotes(newVotes);
            };

            const getVotesForBand = (day, stage, band, time) => {
                const key = `${day}-${stage}-${band}-${time}`;
                return votes[key] || [];
            };

            const hasUserVoted = (day, stage, band, time) => {
                const bandVotes = getVotesForBand(day, stage, band, time);
                return bandVotes.includes(activeUser);
            };

            const stageEmojis = {
                'Escenario Norte': 'üé∏',
                'Escenario Sur': 'üé§',
                'Escenario Monta√±a': '‚õ∞Ô∏è',
                'Escenario Boomerang': 'ü™É',
                'La Casita del Blues': 'üé∫'
            };

            if (isLoading) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center">
                        <div className="text-center">
                            <Icons.Music />
                            <p className="text-white text-xl mt-4">Cargando votos...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="text-center mb-8 pt-6">
                            <div className="flex items-center justify-center gap-4 mb-4">
                                <Icons.Music />
                                <h1 className="text-4xl md:text-5xl font-black text-white drop-shadow-lg">
                                    Cosqu√≠n Rock 2026
                                </h1>
                                <Icons.Music />
                            </div>
                            <p className="text-white/90 text-xl mb-2">14 y 15 de Febrero</p>
                            <p className="text-white/70 text-sm">¬°Vot√° tus bandas favoritas! üéâ</p>
                            
                            {/* Indicador de sincronizaci√≥n */}
                            <div className="mt-4 flex items-center justify-center gap-3">
                                <button 
                                    onClick={loadVotes}
                                    className="flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-white text-sm transition-all"
                                    disabled={isLoading}
                                >
                                    <Icons.Refresh />
                                    Actualizar votos
                                </button>
                                {lastSync && (
                                    <p className="text-white/60 text-xs">
                                        √öltima actualizaci√≥n: {lastSync}
                                    </p>
                                )}
                                {isSaving && (
                                    <p className="text-yellow-300 text-xs animate-pulse">
                                        Guardando...
                                    </p>
                                )}
                            </div>
                        </div>

                        {/* User Selection */}
                        <div className="bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6 border border-white/20">
                            <div className="flex items-center gap-3 mb-4">
                                <Icons.Users />
                                <h2 className="text-white font-bold text-xl">¬øQui√©n sos?</h2>
                            </div>
                            <div className="grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-3">
                                {users.map((user, idx) => (
                                    <button
                                        key={idx}
                                        onClick={() => setActiveUser(idx)}
                                        className={`p-4 rounded-xl font-bold transition-all ${
                                            activeUser === idx
                                                ? `${user.color} text-white scale-110 shadow-xl`
                                                : 'bg-white/20 text-white/70 hover:bg-white/30'
                                        }`}
                                    >
                                        {user.name}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Day Selection */}
                        <div className="flex gap-4 mb-6">
                            <button
                                onClick={() => setSelectedDay('viernes')}
                                className={`flex-1 p-6 rounded-xl font-bold text-lg transition-all ${
                                    selectedDay === 'viernes'
                                        ? 'bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-xl scale-105'
                                        : 'bg-white/20 text-white/70 hover:bg-white/30'
                                }`}
                            >
                                <div className="flex items-center justify-center gap-2 mb-1">
                                    <Icons.Calendar />
                                    <span>Viernes 14</span>
                                </div>
                                <div className="text-sm font-normal">Febrero</div>
                            </button>
                            <button
                                onClick={() => setSelectedDay('sabado')}
                                className={`flex-1 p-6 rounded-xl font-bold text-lg transition-all ${
                                    selectedDay === 'sabado'
                                        ? 'bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-xl scale-105'
                                        : 'bg-white/20 text-white/70 hover:bg-white/30'
                                }`}
                            >
                                <div className="flex items-center justify-center gap-2 mb-1">
                                    <Icons.Calendar />
                                    <span>S√°bado 15</span>
                                </div>
                                <div className="text-sm font-normal">Febrero</div>
                            </button>
                        </div>

                        {/* Schedule Grid */}
                        <div className="space-y-6 mb-6">
                            {Object.entries(schedule[selectedDay]).map(([stage, bands]) => (
                                <div key={stage} className="bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20">
                                    <h3 className="text-white font-bold mb-4 flex items-center gap-2 text-xl">
                                        <span className="text-3xl">{stageEmojis[stage]}</span>
                                        {stage}
                                    </h3>
                                    <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3">
                                        {bands.map((show, idx) => {
                                            const bandVotes = getVotesForBand(selectedDay, stage, show.band, show.time);
                                            const userVoted = hasUserVoted(selectedDay, stage, show.band, show.time);
                                            
                                            return (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleVote(selectedDay, stage, show.band, show.time)}
                                                    className={`p-4 rounded-lg text-left transition-all ${
                                                        userVoted
                                                            ? `${users[activeUser].color} text-white shadow-lg scale-105`
                                                            : 'bg-white/20 text-white hover:bg-white/30'
                                                    }`}
                                                >
                                                    <div className="flex items-center justify-between mb-2">
                                                        <div className="flex items-center gap-2">
                                                            <Icons.Clock />
                                                            <span className="font-bold">{show.time}</span>
                                                        </div>
                                                        {bandVotes.length > 0 && (
                                                            <span className="text-xs bg-white/30 px-2 py-1 rounded-full">
                                                                {bandVotes.length} {bandVotes.length === 1 ? 'voto' : 'votos'}
                                                            </span>
                                                        )}
                                                    </div>
                                                    <div className="font-bold text-sm mb-2 leading-tight">
                                                        {show.band}
                                                    </div>
                                                    {bandVotes.length > 0 && (
                                                        <div className="flex flex-wrap gap-1">
                                                            {bandVotes.map((userIdx) => (
                                                                <div
                                                                    key={userIdx}
                                                                    className={`w-4 h-4 rounded-full ${users[userIdx].color} border-2 border-white shadow-sm`}
                                                                    title={users[userIdx].name}
                                                                />
                                                            ))}
                                                        </div>
                                                    )}
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* User Summary Cards */}
                        <div className="bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-md rounded-xl p-6 mb-6 border border-purple-400/30">
                            <h3 className="text-white font-bold mb-4 flex items-center gap-2 text-xl">
                                <Icons.Users />
                                Votos por Persona - {selectedDay === 'viernes' ? 'Viernes 14' : 'S√°bado 15'}
                            </h3>
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {users.map((user, userIdx) => {
                                    const userVotedBands = Object.entries(votes)
                                        .filter(([key, voters]) => 
                                            key.startsWith(selectedDay) && voters.includes(userIdx)
                                        )
                                        .map(([key]) => {
                                            const parts = key.split('-');
                                            return {
                                                stage: parts[1],
                                                band: parts[2],
                                                time: parts[3]
                                            };
                                        })
                                        .sort((a, b) => a.time.localeCompare(b.time));

                                    return (
                                        <div 
                                            key={userIdx}
                                            className="bg-white/20 rounded-lg p-4 border-2 border-white/30"
                                        >
                                            <div className="flex items-center gap-3 mb-3">
                                                <div className={`w-8 h-8 rounded-full ${user.color} border-2 border-white shadow-md`} />
                                                <div>
                                                    <h4 className="text-white font-bold">{user.name}</h4>
                                                    <p className="text-white/70 text-sm">
                                                        {userVotedBands.length} {userVotedBands.length === 1 ? 'banda' : 'bandas'}
                                                    </p>
                                                </div>
                                            </div>
                                            {userVotedBands.length > 0 && (
                                                <div className="space-y-2">
                                                    {userVotedBands.map((item, idx) => (
                                                        <div key={idx} className="bg-white/10 rounded p-2 text-xs">
                                                            <div className="text-white/90 font-semibold mb-1">
                                                                {item.band}
                                                            </div>
                                                            <div className="flex items-center justify-between text-white/60">
                                                                <span className="flex items-center gap-1">
                                                                    <Icons.Clock />
                                                                    {item.time}
                                                                </span>
                                                                <span className="text-xs">
                                                                    {stageEmojis[item.stage]}
                                                                </span>
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>
                                            )}
                                            {userVotedBands.length === 0 && (
                                                <div className="text-white/40 text-xs mt-2 italic">
                                                    Sin votos todav√≠a
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Top Voted Bands */}
                        <div className="mt-6 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 backdrop-blur-md rounded-xl p-6 border border-yellow-400/30">
                            <h3 className="text-white font-bold mb-4 flex items-center gap-2 text-xl">
                                <Icons.Star />
                                üèÜ Bandas M√°s Votadas - {selectedDay === 'viernes' ? 'Viernes 14' : 'S√°bado 15'}
                            </h3>
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {(() => {
                                    const bandVoteCounts = {};
                                    Object.entries(votes)
                                        .filter(([key]) => key.startsWith(selectedDay))
                                        .forEach(([key, voters]) => {
                                            const parts = key.split('-');
                                            const stage = parts[1];
                                            const band = parts[2];
                                            const time = parts[3];
                                            if (!bandVoteCounts[band]) {
                                                bandVoteCounts[band] = { band, stage, time, count: 0 };
                                            }
                                            bandVoteCounts[band].count = voters.length;
                                        });
                                    
                                    const topBands = Object.values(bandVoteCounts)
                                        .sort((a, b) => b.count - a.count)
                                        .slice(0, 9);

                                    if (topBands.length === 0) {
                                        return (
                                            <div className="col-span-full text-center text-white/60 py-8">
                                                <p className="text-lg">Todav√≠a no hay votos para este d√≠a</p>
                                                <p className="text-sm mt-2">¬°Empez√° a votar tus bandas favoritas! üé∏</p>
                                            </div>
                                        );
                                    }

                                    return topBands.map((item, idx) => {
                                        const percentage = Math.round((item.count / users.length) * 100);
                                        const bandVoters = getVotesForBand(selectedDay, item.stage, item.band, item.time);
                                        
                                        return (
                                            <div 
                                                key={idx}
                                                className="bg-white/20 rounded-lg p-4 border-2 border-yellow-400/50 relative overflow-hidden"
                                            >
                                                {idx < 3 && (
                                                    <div className="absolute top-2 right-2 text-2xl">
                                                        {idx === 0 && 'ü•á'}
                                                        {idx === 1 && 'ü•à'}
                                                        {idx === 2 && 'ü•â'}
                                                    </div>
                                                )}
                                                <div className="flex items-start justify-between mb-2">
                                                    <div className="flex-1 pr-8">
                                                        <h4 className="text-white font-bold text-sm leading-tight mb-1">
                                                            {item.band}
                                                        </h4>
                                                        <div className="flex items-center gap-2 text-xs text-white/80">
                                                            <Icons.MapPin />
                                                            <span>{item.stage}</span>
                                                        </div>
                                                        <div className="flex items-center gap-2 text-xs text-white/80 mt-1">
                                                            <Icons.Clock />
                                                            <span>{item.time}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div className="mt-3">
                                                    <div className="flex items-center justify-between mb-1">
                                                        <span className="text-yellow-300 font-bold text-lg">
                                                            {item.count}/{users.length}
                                                        </span>
                                                        <span className="text-yellow-300 font-bold text-lg">
                                                            {percentage}%
                                                        </span>
                                                    </div>
                                                    
                                                    <div className="w-full bg-white/20 rounded-full h-2 mb-2">
                                                        <div 
                                                            className="bg-gradient-to-r from-yellow-400 to-orange-400 h-2 rounded-full transition-all duration-500"
                                                            style={{ width: `${percentage}%` }}
                                                        />
                                                    </div>
                                                    
                                                    <div className="flex flex-wrap gap-1 mt-2">
                                                        {bandVoters.map((userIdx) => (
                                                            <div
                                                                key={userIdx}
                                                                className={`w-4 h-4 rounded-full ${users[userIdx].color} border-2 border-white shadow-md`}
                                                                title={users[userIdx].name}
                                                            />
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    });
                                })()}
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="mt-6 text-center text-white/60 text-sm space-y-1">
                            <p className="text-lg">üé∏ ¬°Que disfruten el festival! üé∏</p>
                            <p className="text-xs">Hecho con ‚ô• para el mejor grupo de amigas</p>
                            <p className="text-xs mt-4 text-white/40">
                                üí° Los votos se guardan autom√°ticamente y son compartidos con todas
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CosquinRockPlanner />);
    </script>
</body>
</html>
 
